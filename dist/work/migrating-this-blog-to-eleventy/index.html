

<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- charset/http-equiv/viewport -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- title -->
    <title>
      
      Migrating this Blog to Eleventy
      
    </title>
    <!-- synchronous js / schema  -->
    <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@graph": [
      {
        "@type": "WebSite",
        "@id": "https://chadfield.org#website",
        "url": "https://chadfield.org",
        "name": "Problem First",
        "description": "Problem First is a blog by Ben Chadfield about Product Management, Leadership, Technology, and Life.",
        "inLanguage": "en_EN"
      }
    ]
  }
</script>
 
    <!-- include blogpost schema  --><script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "BlogPosting",
    "mainEntityOfPage": {
      "@type": "WebPage"
    },
    "isPartOf": {
      "@id": "https://chadfield.org#website"
    },
    "@id": "",
    "headline": "Migrating this Blog to Eleventy",
    "description": "How I went about migrating this blog from Jekyll to Eleventy.",
    "image": "https://chadfield.org/assets/images/opengraph-default.jpg",
    "inLanguage": "en_EN",
    "publisher": {
      "@type": "Person",
      "name": "Ben Chadfield",
      "url": "https://chadfield.org"
    },
    "author": {
      "@type": "Person",
      "name": "Ben Chadfield"
    },
    "datePublished": "2023-03-25T00:00:00.000Z"
  }
</script>
 

    <!-- synchronous css / inline css  -->
    <link rel="stylesheet" href="/assets/css/global.css?65c5-5b01-28bf" />

    <!-- preloads -->
    <link
      rel="preload"
      href="/assets/fonts/notoserif/noto-serif-normal-400.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/overpassmono/overpass-mono-normal-400.woff2"
      as="font"
      type="font/woff2"
      crossorigin
    />

    <!-- preloads in page data -->
    <!-- prettier-ignore -->
    <link rel="preload"
            href="/assets/fonts/robotomono/robotomono-variablefont_wght-webfont.woff2"
            as="font"
            type=font/woff2
            crossorigin />
    

    <!-- defered js  -->
    <script type="module" src="/assets/scripts/app.js?65c5-5b01-28bf" defer></script>

    <!-- everything else: meta tags, icons, open graph etc.  -->
    <base href="/work/migrating-this-blog-to-eleventy/" />

<meta
  name="description"
  content="
  
  How I went about migrating this blog from Jekyll to Eleventy.
  
  "
/>

<meta name="theme-color" content="#DD4462" />
<meta name="robots" content="index,follow" /><!-- All Search Engines -->
<meta name="googlebot" content="index,follow" /><!-- Google Specific -->
<meta name="generator" content="Eleventy v2.0.0" /><!-- thank you, Zach -->
<!-- Disable automatic detection and formatting of possible phone numbers -->
<meta name="format-detection" content="telephone=no" />
<!-- Helps prevent duplicate content issues -->
<link rel="canonical" href="https://chadfield.org/work/migrating-this-blog-to-eleventy/" />

<!-- Links to information about the author(s) of the document -->
<link rel="author" href="humans.txt" />



<!-- Open Graph meta  -->
<meta property="og:url" content="https://chadfield.org/work/migrating-this-blog-to-eleventy/" />
<meta property="og:type" content="website" />
<meta
  property="og:title"
  content="Migrating this Blog to Eleventy"
/>
<meta
  property="og:image"
  content="https://chadfield.org/assets/images/opengraph-default.jpg"
/>
<meta
  property="og:description"
  content="How I went about migrating this blog from Jekyll to Eleventy."
/>
<meta property="og:site_name" content="Problem First" />
<meta property="og:locale" content="en_EN" />
<meta property="article:author" content="Ben Chadfield" />

<!-- Twitter meta -->
<meta name="twitter:card" content="summary_large_image" />
 
<meta name="twitter:dnt" content="on" />

<!-- Favicon -->
<link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üõ∏</text></svg>">

    
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-37077125-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-37077125-1');
    </script>


  </head>

  <body class="relative">
    <!-- header -->
    <a href="#main" class="skip-link">Skip to content</a>

<header class="site-head" role="banner">
  <div class="site-head-left">
    <svg
      xmlns="http://www.w3.org/2000/svg"
      viewBox="0 0 24 24"
      fill="currentColor"
      aria-hidden="true"
      focusable="false"
      id="theme-toggle"
    >
      <path
        fill-rule="evenodd"
        d="M10.788 3.21c.448-1.077 1.976-1.077 2.424 0l2.082 5.007 5.404.433c1.164.093 1.636 1.545.749 2.305l-4.117 3.527 1.257 5.273c.271 1.136-.964 2.033-1.96 1.425L12 18.354 7.373 21.18c-.996.608-2.231-.29-1.96-1.425l1.257-5.273-4.117-3.527c-.887-.76-.415-2.212.749-2.305l5.404-.433 2.082-5.006z"
        clip-rule="evenodd"
      />
    </svg>

    
    <a href="/" class="logo site-head__brand | no-underline" >
      Problem First
    </a>
  </div>

  <nav id="mainnav" class="navbar" aria-label="Main">
  <ul>
    
    <li>
      <a
        class="nav"
        href="/"
        
        >Blog</a
      >
    </li>
    
    <li>
      <a
        class="nav"
        href="/descendants/"
        
        >Descendants</a
      >
    </li>
    
    <li>
      <a
        class="nav"
        href="/about/"
        
        >Ben Chadfield</a
      >
    </li>
    
  </ul>
</nav>

<!--  template element holding a button that needs to be injected when JavaScript is finally available. based on an article by Manuel Matuzovic, https://web.dev/website-navigation/, see also https://kittygiraudel.com/2022/09/30/templating-in-html/ -->

<template id="burger-template">
  <button type="button" aria-expanded="false" aria-label="Menu" aria-controls="mainnav">
    <span>Menu</span>
    <svg width="24" height="24" aria-hidden="true">
      <path
        fill-rule="evenodd"
        d="M12 3.75a.75.75 0 01.75.75v6.75h6.75a.75.75 0 010 1.5h-6.75v6.75a.75.75 0 01-1.5 0v-6.75H4.5a.75.75 0 010-1.5h6.75V4.5a.75.75 0 01.75-.75z"
        clip-rule="evenodd"
      />
    </svg>
  </button>
</template>

</header>


    <!-- content slot -->
    <main id="main" class="relative">
<article class="region blog">
  <div class="wrapper flow prose">
    <div class="post-header">
      <img src="/assets/images/posts/migrating-to-11ty.png" />
      <h1>Migrating this Blog to Eleventy</h1>
    </div>

     <time datetime="2023-03-25T00:00:00.000Z">
  March 25, 2023
</time>


    <p>I recently decided to update my website after neglecting it for over 8 years. I wanted to give it a refresh and make it more modern and appealing. After a quick search, I chose <a href="https://11ty.dev" target="_blank" rel="noopener">Eleventy</a> as my SSG. I like new SSGs that give me something interesting to learn. I‚Äôve been sticking with Javascript for a while, only using Python for machine learning projects. Eleventy fits that description perfectly.</p>
<h2 id="selecting-a-starter-project"><a class="heading-anchor" href="#selecting-a-starter-project">Selecting a starter project</a></h2>
<p>Once I chose Eleventy, the next step was to find a starter project to work with. Thankfully, Eleventy has a lot of starter projects available on their website. I selected one that gave me new things to learn. I hadn‚Äôt built anything with Tailwind CSS, so I went with one that used that framework. The starter project I chose was called ‚ÄúEleventy Excellent‚Äù and can be found on GitHub at <a href="https://github.com/madrilene/eleventy-excellent" target="_blank" rel="noopener">https://github.com/madrilene/eleventy-excellent</a>.</p>
<h2 id="migrating-old-content"><a class="heading-anchor" href="#migrating-old-content">Migrating old content</a></h2>
<p>After I had my starter project set up, the next step was to add my old post content to it. Eleventy Excellent uses posts in <code>/src/posts</code>. I deleted everything from that directory and pasted in my old markdown files. I was using <code>.markdown</code> extensions and had to update that to <code>.md</code>. That was it. Migrated.</p>
<h2 id="adding-images"><a class="heading-anchor" href="#adding-images">Adding images</a></h2>
<p>The starter project didn‚Äôt use images for the post previews. I wanted to add images to add colour to the blog. To quickly whip up some images I generated images using <a href="https://labs.openai.com/" target="_blank" rel="noopener">OpenAI‚Äôs image generator DALL-E</a>. I plan to update the images with better ones once I get my own image pipeline working.</p>
<p>I moved the post summary card into an unused partial in the template and updated the layout in include the image. I added the image to the post page and moved the title header up to overlay the image. All super easy.</p>
<h2 id="adding-dark-mode-with-chatgpt"><a class="heading-anchor" href="#adding-dark-mode-with-chatgpt">Adding dark mode with ChatGPT</a></h2>
<p>One of the features I wanted to add to my blog was a dark mode option. To achieve this, I used ChatGPT to write the code to make dark mode work and persist the user‚Äôs choice. I followed the instructions, using the navigation left icon and name as the toggle. Here‚Äôs what ChatGPT said when asked for a way to add dark mode to a Tailwind site.</p>
<div class="chatgpt">
<img src="/assets/images/chatgpt.svg" class="chatgpt-logo" alt="ChatGPT Logo" />
<p>To add a dark mode switch to a Tailwind CSS site, you can follow these general steps:</p>
<ol class="list">
<li>
<p>Set up the basic HTML structure of your dark mode switch. This could be a simple button or a toggle switch. Make sure to give it a unique <code>id</code> or <code>class</code> so that you can target it with CSS and JavaScript.</p>
</li>
<li>
<p>Create a new CSS class to define the styles for your dark mode theme. You can use the Tailwind <code>dark:</code> variant to apply specific styles when the user has enabled dark mode. For example, you could define a class like this:</p>
<pre class="language-css"><code class="language-css"><span class="token selector">.dark-mode</span> <span class="token punctuation">{</span> <br>	<span class="token property">background-color</span><span class="token punctuation">:</span> #1a202c<span class="token punctuation">;</span> <span class="token property">color</span><span class="token punctuation">:</span> #f7fafc<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token comment">/* Use the `dark:` variant to apply specific styles in dark mode */</span><br><span class="token selector">.dark-mode h1</span> <span class="token punctuation">{</span> <br>	<span class="token property">color</span><span class="token punctuation">:</span> #fff<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
<p>This example defines a dark mode theme with a dark blue background color and light text. It also sets the text color of any <code>h1</code> elements to white.</p>
</li>
<li>
<p>Add a JavaScript event listener to your dark mode switch. This should listen for clicks on the switch and toggle a <code>dark-mode</code> class on the <code>body</code> element of your page. You can use the <code>classList</code> API to add or remove classes. Here‚Äôs an example:</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> darkModeToggle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#dark-mode-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>darkModeToggle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <br>	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'dark-mode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>This example listens for clicks on an element with the <code>id</code> of <code>dark-mode-toggle</code> and toggles the <code>dark-mode</code> class on the <code>body</code> element.</p>
</li>
<li>
<p>Test your dark mode switch to make sure it‚Äôs working as expected. You can use the DevTools in your browser to inspect the styles being applied in both light and dark mode.</p>
</li>
</ol>
<p>To keep the dark mode switch state consistent across page changes, you can use a combination of localStorage and JavaScript to store and retrieve the user‚Äôs preference.</p>
<p>Here‚Äôs an example of how to implement this:</p>
<ol class="list">
<li>
<p>In your JavaScript code, add a function that sets the <code>dark-mode</code> class on the <code>body</code> element based on the user‚Äôs preference stored in localStorage. You can use the <code>localStorage.getItem()</code> method to retrieve the stored value.</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">function</span> <span class="token function">applyDarkModePreference</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <br>	<span class="token keyword">const</span> isDarkMode <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'isDarkMode'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'true'</span><span class="token punctuation">;</span> <br>	<span class="token keyword">if</span> <span class="token punctuation">(</span>isDarkMode<span class="token punctuation">)</span> <span class="token punctuation">{</span> <br>		document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'dark-mode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <br>		document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'dark-mode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>	<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</li>
<li>
<p>Call the <code>applyDarkModePreference()</code> function when your page loads to apply the user‚Äôs preference.</p>
<pre class="language-jsx"><code class="language-jsx">window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> applyDarkModePreference<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
<li>
<p>Modify your dark mode toggle event listener to update the user‚Äôs preference in localStorage when the switch is toggled. You can use the <code>localStorage.setItem()</code> method to store the value.</p>
<pre class="language-jsx"><code class="language-jsx"><span class="token keyword">const</span> darkModeToggle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'#dark-mode-toggle'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>darkModeToggle<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <br>	document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">toggle</span><span class="token punctuation">(</span><span class="token string">'dark-mode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>	<span class="token keyword">const</span> isDarkMode <span class="token operator">=</span> document<span class="token punctuation">.</span>body<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span><span class="token string">'dark-mode'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <br>	localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'isDarkMode'</span><span class="token punctuation">,</span> isDarkMode<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</li>
</ol>
<p>With these changes, the user‚Äôs preference will be stored in localStorage and applied to the <code>body</code> element each time the page loads. When the user toggles the dark mode switch, the preference will be updated and stored in localStorage. This will keep the switch state consistent across page changes.</p>
</div>
<h2 id="publishing-pipeline"><a class="heading-anchor" href="#publishing-pipeline">Publishing pipeline</a></h2>
<p>Finally, it was time to set up my publishing pipeline. I chose GitHub as my platform, and the good news was that it automatically publishes Jekyll. I set up a GitHub action to publish my site, which is triggered by a push to the master branch. The only thing I had to update was the source folder.</p>
<p>Eleventy was a great choice for me, and I had a lot of fun learning new things while working on my blog. With a little bit of setup, I was able to get my blog up and running with the features I wanted. I‚Äôm excited to continue learning and improving my blog in the future.</p>

  </div>
</article>
</main>

    <!-- footer -->
    

<footer class="site-foot" role="contentinfo">
  <div class="wrapper">
    <div class="site-foot__inner">
      <nav id="footernav" class="site-foot__inner" aria-label="Footer">

        &copy; 2024 <a href="/" >Problem First</a>
        
      </nav>

      <nav id="social" class="site-foot__inner" aria-label="Social links">
        

        
        <a href="https://www.linkedin.com/in/benchadfield/" rel="me" target="_blank">
          
          <span class="sr-only">linkedin</span>
          <div aria-hidden="true"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
  focusable="false"
>
  <path
    d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"
  ></path>
  <rect x="2" y="9" width="4" height="12"></rect>
  <circle cx="4" cy="4" r="2"></circle>
</svg>
</div>
          </a
          >
        

        
        <a href="https://github.com/bchadfield" rel="me" target="_blank">
          
          <span class="sr-only">github</span>
          <div aria-hidden="true"><svg
  xmlns="http://www.w3.org/2000/svg"
  width="24"
  height="24"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
  focusable="false"
>
  <path
    d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"
  ></path>
  <path d="M9 18c-4.51 2-5-2-7-2"></path>
</svg>
</div>
          </a
          >
        

        
        <a href="https://chadfield.org/feed.xml" rel="alternate" type="application/rss+xml" target="_blank">
        
          <span class="sr-only">rss</span>
          <div aria-hidden="true"><svg
  xmlns="http://www.w3.org/2000/svg"
  viewBox="0 0 24 24"
  fill="none"
  stroke="currentColor"
  stroke-width="2"
  stroke-linecap="round"
  stroke-linejoin="round"
  aria-hidden="true"
  focusable="false"
>
  <path d="M4 11a9 9 0 0 1 9 9"></path>
  <path d="M4 4a16 16 0 0 1 16 16"></path>
  <circle cx="5" cy="19" r="1"></circle>
</svg>
</div>
          </a
          >
        


        </nav>
    </div>
  </div>

  <!-- lang menu -->
</footer>




    <script lang="javascript">
      if (localStorage.theme === 'true' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
        console.log("dark")
        document.body.classList.add('dark-mode')
      } else {
        console.log("light")
        document.body.classList.remove('dark-mode')
      }
    </script>
  </body>
</html>
